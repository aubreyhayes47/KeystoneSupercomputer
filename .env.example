# Keystone Supercomputer - Environment Configuration Template
# Copy this file to .env and customize for your environment

# ==============================================================================
# Redis Configuration
# ==============================================================================
# Redis port exposed to host
REDIS_PORT=6379

# Redis password (set for production)
# REDIS_PASSWORD=your_secure_password_here

# Redis persistence mode (default: appendonly)
REDIS_PERSISTENCE=appendonly

# ==============================================================================
# Simulation Service Resource Limits
# ==============================================================================
# FEniCSx memory limit (e.g., 4g, 4096m)
FENICSX_MEMORY_LIMIT=4g
FENICSX_CPU_LIMIT=2.0

# LAMMPS memory limit
LAMMPS_MEMORY_LIMIT=4g
LAMMPS_CPU_LIMIT=2.0

# OpenFOAM memory limit (CFD typically needs more memory)
OPENFOAM_MEMORY_LIMIT=8g
OPENFOAM_CPU_LIMIT=4.0

# ==============================================================================
# Data Directories
# ==============================================================================
# Root directory for all simulation data
DATA_ROOT=./data

# Individual service data paths (relative to DATA_ROOT)
FENICSX_INPUT=fenicsx/input
FENICSX_OUTPUT=fenicsx/output

LAMMPS_INPUT=lammps/input
LAMMPS_OUTPUT=lammps/output

OPENFOAM_INPUT=openfoam/input
OPENFOAM_OUTPUT=openfoam/output

# ==============================================================================
# Network Configuration
# ==============================================================================
# Docker network name
NETWORK_NAME=keystone-network

# ==============================================================================
# Ollama Configuration (for Agent Service)
# ==============================================================================
# Ollama base URL (typically runs on host)
OLLAMA_BASE_URL=http://host.docker.internal:11434

# Ollama model to use
OLLAMA_MODEL=llama3:8b

# ==============================================================================
# Celery Configuration
# ==============================================================================
# Celery broker URL (uses Redis)
CELERY_BROKER_URL=redis://redis:6379/0

# Celery result backend
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Celery worker concurrency
CELERY_WORKER_CONCURRENCY=2

# ==============================================================================
# Logging and Monitoring
# ==============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Enable performance monitoring
ENABLE_MONITORING=false

# ==============================================================================
# Development Settings
# ==============================================================================
# Enable development mode (auto-reload, verbose logging)
DEV_MODE=false

# Mount source code as volumes for live editing
MOUNT_SOURCE_CODE=true

# ==============================================================================
# Security Settings
# ==============================================================================
# Enable Redis authentication in production
REDIS_AUTH_ENABLED=false

# Use read-only mounts for input directories
READONLY_INPUTS=false

# ==============================================================================
# Performance Tuning
# ==============================================================================
# Docker BuildKit for faster builds
DOCKER_BUILDKIT=1

# Compose parallel build limit
COMPOSE_PARALLEL_LIMIT=4

# ==============================================================================
# Notes
# ==============================================================================
# - Copy this file to .env in the project root
# - Uncomment and set values as needed
# - .env is in .gitignore and will not be committed
# - See DOCKER_COMPOSE.md for detailed configuration guide
